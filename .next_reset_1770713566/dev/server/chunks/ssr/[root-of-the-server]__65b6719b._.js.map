{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///Users/utkusakallioglu/Documents/nakis/src/app/%28en%29/%28dashboard%29/dashboard/dashboard-content.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DashboardContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call DashboardContent() from the server but DashboardContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Documents/nakis/src/app/(en)/(dashboard)/dashboard/dashboard-content.tsx <module evaluation>\",\n    \"DashboardContent\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,8RAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,0GACA","ignoreList":[0]}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/utkusakallioglu/Documents/nakis/src/app/%28en%29/%28dashboard%29/dashboard/dashboard-content.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DashboardContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call DashboardContent() from the server but DashboardContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Documents/nakis/src/app/(en)/(dashboard)/dashboard/dashboard-content.tsx\",\n    \"DashboardContent\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,8RAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,sFACA","ignoreList":[0]}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/utkusakallioglu/Documents/nakis/src/app/%28en%29/%28dashboard%29/dashboard/page.tsx"],"sourcesContent":["import { auth } from \"@/lib/auth\";\nimport prisma from \"@/lib/prisma\";\nimport { DashboardContent } from \"./dashboard-content\";\n\nasync function getOrderStats(userId: string, isAdmin: boolean) {\n    const where = isAdmin ? {} : { customerId: userId };\n    const pendingStatuses = [\"ORDERED\", \"PRICED\", \"APPROVAL_AWAITING\", \"REVISION\", \"PAYMENT_PENDING\"];\n\n    const [total, pending, inProgress, completed] = await Promise.all([\n        prisma.order.count({ where }),\n        prisma.order.count({ where: { ...where, status: { in: pendingStatuses } } }),\n        prisma.order.count({ where: { ...where, status: \"IN_PROGRESS\" } }),\n        prisma.order.count({ where: { ...where, status: \"COMPLETED\" } }),\n    ]);\n\n    return { total, pending, inProgress, completed };\n}\n\nasync function getRecentOrders(userId: string, isAdmin: boolean) {\n    const where = isAdmin ? {} : { customerId: userId };\n\n    return prisma.order.findMany({\n        where,\n        include: {\n            customer: {\n                select: { name: true, email: true, image: true },\n            },\n        },\n        orderBy: { createdAt: \"desc\" },\n        take: 5,\n    });\n}\n\nexport default async function DashboardPage() {\n    const session = await auth();\n    const isAdmin = session?.user?.role === \"ADMIN\";\n    const userId = session?.user?.id!;\n\n    const stats = await getOrderStats(userId, isAdmin);\n    const recentOrders = await getRecentOrders(userId, isAdmin);\n\n    return (\n        <DashboardContent\n            stats={stats}\n            recentOrders={recentOrders}\n            isAdmin={isAdmin}\n        />\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,eAAe,cAAc,MAAc,EAAE,OAAgB;IACzD,MAAM,QAAQ,UAAU,CAAC,IAAI;QAAE,YAAY;IAAO;IAClD,MAAM,kBAAkB;QAAC;QAAW;QAAU;QAAqB;QAAY;KAAkB;IAEjG,MAAM,CAAC,OAAO,SAAS,YAAY,UAAU,GAAG,MAAM,QAAQ,GAAG,CAAC;QAC9D,qJAAM,CAAC,KAAK,CAAC,KAAK,CAAC;YAAE;QAAM;QAC3B,qJAAM,CAAC,KAAK,CAAC,KAAK,CAAC;YAAE,OAAO;gBAAE,GAAG,KAAK;gBAAE,QAAQ;oBAAE,IAAI;gBAAgB;YAAE;QAAE;QAC1E,qJAAM,CAAC,KAAK,CAAC,KAAK,CAAC;YAAE,OAAO;gBAAE,GAAG,KAAK;gBAAE,QAAQ;YAAc;QAAE;QAChE,qJAAM,CAAC,KAAK,CAAC,KAAK,CAAC;YAAE,OAAO;gBAAE,GAAG,KAAK;gBAAE,QAAQ;YAAY;QAAE;KACjE;IAED,OAAO;QAAE;QAAO;QAAS;QAAY;IAAU;AACnD;AAEA,eAAe,gBAAgB,MAAc,EAAE,OAAgB;IAC3D,MAAM,QAAQ,UAAU,CAAC,IAAI;QAAE,YAAY;IAAO;IAElD,OAAO,qJAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;QACzB;QACA,SAAS;YACL,UAAU;gBACN,QAAQ;oBAAE,MAAM;oBAAM,OAAO;oBAAM,OAAO;gBAAK;YACnD;QACJ;QACA,SAAS;YAAE,WAAW;QAAO;QAC7B,MAAM;IACV;AACJ;AAEe,eAAe;IAC1B,MAAM,UAAU,MAAM,IAAA,gJAAI;IAC1B,MAAM,UAAU,SAAS,MAAM,SAAS;IACxC,MAAM,SAAS,SAAS,MAAM;IAE9B,MAAM,QAAQ,MAAM,cAAc,QAAQ;IAC1C,MAAM,eAAe,MAAM,gBAAgB,QAAQ;IAEnD,qBACI,oQAAC,qNAAgB;QACb,OAAO;QACP,cAAc;QACd,SAAS;;;;;;AAGrB"}}]
}